// pc$(document).ready(function(){    var auto = false;    var player = document.getElementById("player");     $("#bth").on("click", function(){        auto = !auto;        this.innerText = (auto ? '连续播放' : '循环播放');        this.className = (auto ? 'dbtn' : 'kbtn');    });    player.addEventListener('ended', function () {        console.log("播放结束");        if (auto == false) {            player.play();        } else {            players();        }    }, false);    var touchtime = new Date().getTime();    $("#player").on("click", function(){        if( new Date().getTime() - touchtime < 500 ){            console.log("dblclick");            FullScreen();        }else{            touchtime = new Date().getTime();            console.log("click");            if (player.paused) {                player.play();            } else {                player.pause();            }        }    });});function players() {    // player.src = "http://www.kuaidoushe.com/video.php?v=<?php echo time();?>";    $.get("<?php echo $api.'?v='.time();?>",function(data,status){        if (status==status) {            console.log("成功获取数据！");            player.src = data.url;            player.play();        } else {            console.log("失败，重新发起请求！");            players();        }    });}function FullScreen() {    if (player.requestFullscreen) {        player.requestFullscreen();        player.play();    } else if (player.mozRequestFullScreen) {        player.mozRequestFullScreen();        player.play();    } else if (player .webkitRequestFullScreen) {        player.webkitRequestFullScreen();        player.play();    }}// wap$(document).ready(function(){    var auto = false;    var player = document.getElementById("player");     $("#bth").on("click", function(){        auto = !auto;        this.innerText = (auto ? '随机' : '循环');    });    player.addEventListener('ended', function () {        console.log("播放结束");        if (auto == false) {            player.play();        } else {            players();        }    }, false);    var touchtime = new Date().getTime();    $("#player").on("click", function(){        if( new Date().getTime() - touchtime < 500 ){            console.log("dblclick");            FullScreen();        }else{            touchtime = new Date().getTime();            console.log("click");            if (player.paused) {                player.play();                $(".zzplay").hide();            } else {                player.pause();                $(".zzplay").show();            }        }    });    $(".zzplay").on("click", function(){        if( new Date().getTime() - touchtime < 500 ){            console.log("dblclick");            FullScreen();        }else{            touchtime = new Date().getTime();            console.log("click");            if (player.paused) {                player.play();                $(".zzplay").hide();            } else {                player.pause();                $(".zzplay").show();            }        }    });});function players() {    // player.src = "http://www.kuaidoushe.com/video.php?v=<?php echo time();?>";    $.get("<?php echo $api.'?v='.time();?>",function(data,status){        if (status==status) {            console.log("成功获取数据！");            player.src = data.url;            player.play();        } else {            console.log("失败，重新发起请求！");            players();        }    });}//进入全屏function FullScreen() {    if (player .requestFullscreen) {        player .requestFullscreen();        player.play();    } else if (player .mozRequestFullScreen) {        player .mozRequestFullScreen();        player.play();    } else if (player .webkitRequestFullScreen) {        player .webkitRequestFullScreen();        player.play();    }}var startx, starty;//获得角度function getAngle(angx, angy) {    return Math.atan2(angy, angx) * 180 / Math.PI;};//根据起点终点返回方向 1向上 2向下 3向左 4向右 0未滑动function getDirection(startx, starty, endx, endy) {    var angx = endx - startx;    var angy = endy - starty;    var result = 0;    //如果滑动距离太短    if (Math.abs(angx) < 2 && Math.abs(angy) < 2) {        return result;    }    var angle = getAngle(angx, angy);    if (angle >= -135 && angle <= -45) {        result = 1;    } else if (angle > 45 && angle < 135) {        result = 2;    } else if ((angle >= 135 && angle <= 180) || (angle >= -180 && angle < -135)) {        result = 3;    } else if (angle >= -45 && angle <= 45) {        result = 4;    }    return result;}//手指接触屏幕document.addEventListener("touchstart", function(e){    startx = e.touches[0].pageX;    starty = e.touches[0].pageY;}, false);//手指离开屏幕document.addEventListener("touchend", function(e) {    var endx, endy;    endx = e.changedTouches[0].pageX;    endy = e.changedTouches[0].pageY;    var direction = getDirection(startx, starty, endx, endy);    switch (direction) {        case 1:            console.log("向上！");            players();            break;        case 3:            console.log("向左！");            players();            break;    }}, false);